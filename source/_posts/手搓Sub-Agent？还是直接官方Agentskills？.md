---
title: 手搓Sub-Agent？还是直接官方Agentskills？
date: 2026-02-04 03:30:00
tags: [AI, 科技]
categories: [科技学习文章]
---

最近看到一个视频，是有关于构建Agentd的，视频里尝试对Anthropic 和 OpenAI 的 Agent 架构方案手搓一个个人的agent，视频里为他的经验，而文章为我的个人看法和对他视频经验的结合。

# 一、 核心准则：能用 API 解决的，别碰 Agent

很多开发者容易产生“架构幻觉”。比如只是做一个标题总结，却非要上一套 “计划-执行” 模式。

避坑准则： AI 本身具有非确定性，架构每多一层，不确定性就增加一倍。如果一个简单的 API 配合精准的 Prompt 就能搞定，就不要引入 Agent。

# 二、 Workflow vs Agent：界定“人的参与”

在堆架构前，先判断这是否是一个工作流（Workflow）：

工作流： 路径固定、结果可预测、无需人干预（如视频转字幕）。这类场景用 N8N 或 Dify 的工作流节点比 Agent 更稳定。

Agent： 面对“开放性问题”，需要根据场景调用不同技能，且需要用户实时介入纠偏。

# 三、 以 Skills 为核心：解决“注意力牺牲”与 Token 浪费

视频中提到的“上下文工程（Context Engineering）”听起来很深奥，但其工程化落地的最佳实践就是 Agent Skills。

当你的 Agent 挂载了太多工具，系统提示词会变得臃肿，导致模型注意力涣散（越做越乱）。我的看法是：Agent Skills 就是针对这一问题的特效药。

1. 模块化技能管理

与其手撸复杂的 Sub-agent 架构，不如将功能封装成一个个独立的 Skills。

按需调用： 只有在特定场景下才激活对应的 Skill，避免将所有工具定义一次性塞入 Context，从而大幅节省 Token。

隔离干扰： 视觉 Skill 只负责视觉，代码 Skill 只负责逻辑。通过 Skill 的颗粒度控制，天然实现了上下文隔离。

2. 拥抱“官方工具集”

实战中，很多开发者试图从零构建调度架构。其实，官方提供的 Agent Skills（如 OpenAI 或主流 Agent 平台内置的插件库）往往是更好的选择。 这些官方工具已经针对 Token 消耗、描述精度和调用稳定性做了深度优化。利用成熟的官方 Skills，比自己设计不成熟的 Sub-agent 节点要高效得多。

# 四、 从“小”开始：拒绝闭门造车

不要一上来就用重型框架设计复杂的流转图。

先建立 Baseline： 用最基础的 AI SDK 跑通对话。

技能填充： 发现模型能力短板（如缺实时数据）时，再像插拔 U 盘一样接入一个特定的 Skill。

场景驱动： 只有当现有 Skill 组合无法解决多步骤长任务时，再考虑引入顶层 Planning 逻辑。

# 五、 记忆系统：从“读写”转向“引用”

在多轮对话中，反复传递长文本是极大的浪费。通过 Skills 系统内置的存储管理，我们可以实现：

引用机制： 告知 Skill “处理文件 ID-001”，而不是把文件内容贴进对话。

状态保持： 利用 Skills 的内置状态机，让 Agent 记住任务进度，而不是依赖冗长的历史记录。

结语：优雅不代表复杂

AI 系统的进化应该是随业务痛点自然生长的过程。“Skills 插件化思维” 能让你在保持架构简洁的同时，拥有极强的扩展能力。

记住：先用官方 Skills 解决 80% 的问题，再去为剩下的 20% 优化架构。不要让“架构优雅”成为你 AI 落地路上的绊脚石。